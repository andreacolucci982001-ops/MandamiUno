<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MandamiUno - Trova OSS nelle vicinanze</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c7da0;
            --secondary: #468faf;
            --light: #e6f2ff;
            --dark: #1a535c;
            --success: #4CAF50;
            --warning: #ff9800;
            --danger: #f44336;
            --gray: #f5f5f5;
            --text: #333;
            --star: #ffc107;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            color: var(--text);
            background-color: #f9f9f9;
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo h1 {
            color: var(--primary);
            font-size: 1.8rem;
        }
        
        .logo i {
            color: var(--primary);
            font-size: 2rem;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }
        
        nav a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 600;
            font-size: 1.1rem;
            transition: color 0.3s;
        }
        
        nav a:hover, nav a.active {
            color: var(--primary);
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(44, 125, 160, 0.9), rgba(44, 125, 160, 0.8));
            background-size: cover;
            background-position: center;
            color: white;
            padding: 80px 0;
            text-align: center;
        }
        
        .hero h2 {
            font-size: 2.8rem;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 40px;
        }
        
        /* Enhanced Search Box with Filters */
        .search-box {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            max-width: 800px;
            margin: 0 auto;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        .search-form {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 20px;
            align-items: end;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
            text-align: left;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .form-group input, .form-group select {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1.1rem;
        }
        
        .search-btn {
            padding: 15px 30px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            height: fit-content;
        }
        
        .search-btn:hover {
            background-color: var(--secondary);
        }
        
        /* Main Content */
        main {
            padding: 60px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
            color: var(--dark);
        }
        
        .section-title h2 {
            font-size: 2.2rem;
            margin-bottom: 15px;
        }
        
        /* Results Section */
        .results-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        /* OSS Card */
        .oss-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s, box-shadow 0.3s;
            padding: 25px;
            position: relative;
        }
        
        .oss-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .oss-rating {
            position: absolute;
            top: 25px;
            right: 25px;
            background-color: var(--light);
            padding: 5px 10px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 600;
            color: var(--dark);
        }
        
        .oss-info h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.5rem;
            border-bottom: 2px solid var(--light);
            padding-bottom: 10px;
            padding-right: 80px;
        }
        
        .oss-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .detail-item {
            display: flex;
            flex-direction: column;
        }
        
        .detail-label {
            font-weight: 600;
            color: var(--dark);
            font-size: 0.9rem;
        }
        
        .detail-value {
            color: var(--text);
            margin-top: 5px;
        }
        
        .oss-specializations {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .specialization-tag {
            background-color: var(--light);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .oss-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s;
            flex: 1;
            text-align: center;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--secondary);
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-outline:hover {
            background-color: var(--light);
        }
        
        .btn-success {
            background-color: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #45a049;
        }
        
        .btn-warning {
            background-color: var(--warning);
            color: white;
        }
        
        .btn-warning:hover {
            background-color: #e68900;
        }
        
        /* About Sections */
        .about-sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-top: 50px;
        }
        
        .about-section {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.05);
        }
        
        .about-section h3 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.8rem;
        }
        
        .about-section ul {
            padding-left: 20px;
            margin-top: 15px;
        }
        
        .about-section li {
            margin-bottom: 10px;
        }
        
        /* Profile Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            border-radius: 10px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 30px;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 1.8rem;
            cursor: pointer;
            color: var(--dark);
        }
        
        /* Availability Table */
        .availability-section {
            margin-top: 30px;
        }
        
        .availability-section h3 {
            color: var(--primary);
            margin-bottom: 20px;
            border-bottom: 2px solid var(--light);
            padding-bottom: 10px;
        }
        
        .availability-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        
        .availability-table th {
            background-color: var(--light);
            padding: 12px;
            text-align: center;
            color: var(--dark);
            font-size: 0.9rem;
        }
        
        .availability-table td {
            padding: 12px;
            text-align: center;
            border: 1px solid #eee;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .available {
            background-color: #e8f5e9;
            color: var(--success);
            font-weight: 600;
            border-radius: 5px;
        }
        
        .available:hover {
            background-color: #c8e6c9;
            transform: scale(1.05);
        }
        
        .selected-slot {
            background-color: var(--primary);
            color: white;
            box-shadow: 0 0 0 2px var(--secondary);
        }
        
        .not-available {
            background-color: #ffebee;
            color: var(--danger);
            border-radius: 5px;
        }
        
        .time-slot {
            display: block;
            font-size: 0.85rem;
        }
        
        /* Reviews Section */
        .reviews-section {
            margin-top: 30px;
        }
        
        .reviews-section h3 {
            color: var(--primary);
            margin-bottom: 20px;
            border-bottom: 2px solid var(--light);
            padding-bottom: 10px;
        }
        
        .review-item {
            background-color: var(--gray);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .review-author {
            font-weight: 600;
            color: var(--dark);
        }
        
        .review-date {
            color: #666;
            font-size: 0.9rem;
        }
        
        .review-rating {
            color: var(--star);
            margin-bottom: 10px;
        }
        
        .review-text {
            line-height: 1.5;
        }
        
        /* Payment Section */
        .payment-section {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
            border-left: 4px solid var(--success);
        }
        
        .payment-section h3 {
            color: var(--success);
            margin-bottom: 15px;
        }
        
        .payment-methods {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }
        
        .payment-method {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            flex: 1;
            border: 2px solid #ddd;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .payment-method:hover, .payment-method.selected {
            border-color: var(--success);
            background-color: #f0f9f0;
        }
        
        .payment-method i {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        /* Escrow Info */
        .escrow-info {
            background-color: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .escrow-info i {
            color: var(--success);
            font-size: 1.5rem;
        }
        
        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 50px 0 20px;
            margin-top: 60px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-section h3 {
            color: white;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section ul li {
            margin-bottom: 10px;
        }
        
        .footer-section a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-section a:hover {
            color: white;
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: #aaa;
            font-size: 0.9rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                gap: 15px;
            }
            
            .hero h2 {
                font-size: 2.2rem;
            }
            
            .search-form {
                grid-template-columns: 1fr;
            }
            
            .results-container {
                grid-template-columns: 1fr;
            }
            
            .oss-details {
                grid-template-columns: 1fr;
            }
            
            .oss-actions {
                flex-direction: column;
            }
            
            .payment-methods {
                flex-direction: column;
            }
        }
        
        /* Edit Sections */
        .edit-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px dashed #ddd;
        }
        
        .edit-btn {
            background-color: var(--light);
            color: var(--primary);
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
            display: inline-block;
        }
        
        .edit-btn:hover {
            background-color: #d9e9ff;
        }
        
        textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            margin-top: 10px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            resize: vertical;
            min-height: 150px;
        }
        
        .save-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .save-btn:hover {
            background-color: var(--secondary);
        }
        
        .cancel-btn {
            background-color: #f5f5f5;
            color: var(--text);
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            margin-left: 10px;
        }
        
        .cancel-btn:hover {
            background-color: #e0e0e0;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 2px solid var(--light);
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 12px 25px;
            cursor: pointer;
            font-weight: 600;
            color: var(--dark);
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }
        
        .tab:hover {
            color: var(--primary);
        }
        
        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Real-time Check */
        .real-time-check {
            background-color: #fff8e1;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .check-availability-btn {
            background-color: var(--warning);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .check-availability-btn:hover {
            background-color: #e68900;
        }
        
        /* Star Rating */
        .stars {
            color: var(--star);
        }
        
        .stars .empty {
            color: #ddd;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-hands-helping"></i>
                <h1>MandamiUno</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="active">Home</a></li>
                    <li><a href="#how-it-works">Come Funziona</a></li>
                    <li><a href="#find-oss">Trova OSS</a></li>
                    <li><a href="#about">Chi Siamo</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2>Trova OSS qualificati nelle tue vicinanze</h2>
            <p>Piattaforma dedicata a connettere famiglie e strutture con Operatori Socio-Sanitari disponibili nella tua zona.</p>
            
            <!-- Enhanced Search Box -->
            <div class="search-box">
                <form class="search-form" id="searchForm">
                    <div class="form-group">
                        <label for="city"><i class="fas fa-map-marker-alt"></i> Città</label>
                        <input type="text" id="city" placeholder="Inserisci la tua città" value="Milano">
                    </div>
                    
                    <div class="form-group">
                        <label for="activity"><i class="fas fa-tasks"></i> Attività Svolte</label>
                        <select id="activity">
                            <option value="">Tutte le attività</option>
                            <option value="anziani">Assistenza Anziani</option>
                            <option value="disabili">Assistenza Disabili</option>
                            <option value="alzheimer">Alzheimer/Demenze</option>
                            <option value="domiciliare">Assistenza Domiciliare</option>
                            <option value="post-operatoria">Assistenza Post-operatoria</option>
                            <option value="notturna">Assistenza Notturna</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="search-btn">
                        <i class="fas fa-search"></i> Cerca OSS
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container">
        <!-- How It Works Section -->
        <section id="how-it-works">
            <div class="section-title">
                <h2>Come Funziona</h2>
                <p>Scopri come trovare l'OSS giusto per le tue esigenze in pochi semplici passi</p>
            </div>
            
            <div class="about-section">
                <div id="how-it-works-content">
                    <h3>Come Funziona la Piattaforma</h3>
                    <p>La nostra piattaforma è progettata per rendere semplice e veloce la ricerca di Operatori Socio-Sanitari qualificati nella tua zona.</p>
                    
                    <h4>Passo 1: Ricerca con Filtri Avanzati</h4>
                    <p>Utilizza i filtri principali (città e attività svolte) per trovare l'OSS perfetto per le tue esigenze specifiche.</p>
                    
                    <h4>Passo 2: Consulta Profili e Recensioni</h4>
                    <p>Esplora i profili completi con recensioni verificate e esperienze passate documentate.</p>
                    
                    <h4>Passo 3: Verifica Disponibilità in Tempo Reale</h4>
                    <p>Controlla la disponibilità aggiornata e prenota direttamente lo slot desiderato.</p>
                    
                    <h4>Passo 4: Pagamento Sicuro con Escrow</h4>
                    <p>Paga in modo sicuro attraverso il nostro sistema escrow che protegge entrambe le parti.</p>
                </div>
                
                <div class="edit-section">
                    <button class="edit-btn" onclick="editSection('how-it-works')">Modifica Contenuto</button>
                    <div id="how-it-works-edit" style="display: none;">
                        <textarea id="how-it-works-text">La nostra piattaforma è progettata per rendere semplice e veloce la ricerca di Operatori Socio-Sanitari qualificati nella tua zona.

Passo 1: Ricerca con Filtri Avanzati
Utilizza i filtri principali (città e attività svolte) per trovare l'OSS perfetto per le tue esigenze specifiche.

Passo 2: Consulta Profili e Recensioni
Esplora i profili completi con recensioni verificate e esperienze passate documentate.

Passo 3: Verifica Disponibilità in Tempo Reale
Controlla la disponibilità aggiornata e prenota direttamente lo slot desiderato.

Passo 4: Pagamento Sicuro con Escrow
Paga in modo sicuro attraverso il nostro sistema escrow che protegge entrambe le parti.</textarea>
                        <button class="save-btn" onclick="saveSection('how-it-works')">Salva</button>
                        <button class="cancel-btn" onclick="cancelEdit('how-it-works')">Annulla</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Find OSS Section -->
        <section id="find-oss" style="margin-top: 80px;">
            <div class="section-title">
                <h2>OSS Disponibili</h2>
                <p>Consulta i profili degli OSS disponibili nella tua città</p>
            </div>
            
            <div class="results-container" id="resultsList">
                <!-- OSS Card 1 -->
                <div class="oss-card" data-oss-id="1">
                    <div class="oss-rating">
                        <i class="fas fa-star"></i> 4.8
                    </div>
                    <div class="oss-info">
                        <h3>Maria Rossi</h3>
                        <div class="oss-details">
                            <div class="detail-item">
                                <span class="detail-label">Esperienza:</span>
                                <span class="detail-value">12 anni</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Zona:</span>
                                <span class="detail-value">Centro, Milano</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Lingue:</span>
                                <span class="detail-value">Italiano, Inglese base</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Disponibilità:</span>
                                <span class="detail-value">Lun-Ven 9-19, Sab 9-12</span>
                            </div>
                        </div>
                        <div class="oss-specializations">
                            <span class="specialization-tag">Assistenza anziani</span>
                            <span class="specialization-tag">Alzheimer</span>
                            <span class="specialization-tag">Assistenza domiciliare</span>
                        </div>
                        <p>Esperienza decennale nell'assistenza ad anziani con patologie neurodegenerative. Specializzata nella gestione di pazienti con Alzheimer e Parkinson.</p>
                    </div>
                    <div class="oss-actions">
                        <button class="btn btn-primary" onclick="viewProfile(1)">Vedi Profilo Completo</button>
                        <button class="btn btn-outline" onclick="checkAvailability(1)">Verifica Disponibilità</button>
                    </div>
                </div>
                
                <!-- OSS Card 2 -->
                <div class="oss-card" data-oss-id="2">
                    <div class="oss-rating">
                        <i class="fas fa-star"></i> 4.5
                    </div>
                    <div class="oss-info">
                        <h3>Giuseppe Verdi</h3>
                        <div class="oss-details">
                            <div class="detail-item">
                                <span class="detail-label">Esperienza:</span>
                                <span class="detail-value">8 anni</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Zona:</span>
                                <span class="detail-value">Nord, Milano</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Lingue:</span>
                                <span class="detail-value">Italiano, Spagnolo</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Disponibilità:</span>
                                <span class="detail-value">Turni notturni, Weekend</span>
                            </div>
                        </div>
                        <div class="oss-specializations">
                            <span class="specialization-tag">Assistenza disabili</span>
                            <span class="specialization-tag">Fisioterapia di base</span>
                            <span class="specialization-tag">Assistenza notturna</span>
                        </div>
                        <p>Specializzato in assistenza a persone con disabilità motorie. Competenze in fisioterapia di base e mobilitazione. Disponibile per turni notturni.</p>
                    </div>
                    <div class="oss-actions">
                        <button class="btn btn-primary" onclick="viewProfile(2)">Vedi Profilo Completo</button>
                        <button class="btn btn-outline" onclick="checkAvailability(2)">Verifica Disponibilità</button>
                    </div>
                </div>
                
                <!-- OSS Card 3 -->
                <div class="oss-card" data-oss-id="3">
                    <div class="oss-rating">
                        <i class="fas fa-star"></i> 4.9
                    </div>
                    <div class="oss-info">
                        <h3>Laura Bianchi</h3>
                        <div class="oss-details">
                            <div class="detail-item">
                                <span class="detail-label">Esperienza:</span>
                                <span class="detail-value">6 anni</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Zona:</span>
                                <span class="detail-value">Sud, Milano</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Lingue:</span>
                                <span class="detail-value">Italiano, Inglese, Spagnolo</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Disponibilità:</span>
                                <span class="detail-value">Lun-Ven part-time</span>
                            </div>
                        </div>
                        <div class="oss-specializations">
                            <span class="specialization-tag">Assistenza domiciliare</span>
                            <span class="specialization-tag">Assistenza post-operatoria</span>
                            <span class="specialization-tag">Medicazione ferite</span>
                        </div>
                        <p>Esperta in assistenza domiciliare e post-operatoria. Competenze nella medicazione di ferite e nell'igiene personale di pazienti non autosufficienti.</p>
                    </div>
                    <div class="oss-actions">
                        <button class="btn btn-primary" onclick="viewProfile(3)">Vedi Profilo Completo</button>
                        <button class="btn btn-outline" onclick="checkAvailability(3)">Verifica Disponibilità</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- About Us Section -->
        <section id="about" style="margin-top: 80px;">
            <div class="section-title">
                <h2>Chi Siamo</h2>
                <p>Conosci la nostra missione e il nostro team</p>
            </div>
            
            <div class="about-section">
                <div id="about-content">
                    <h3>La Nostra Missione</h3>
                    <p>MandamiUno nasce con l'obiettivo di semplificare la ricerca di operatori socio-sanitari qualificati, mettendo in contatto diretto famiglie, strutture e professionisti del settore.</p>
                    
                    <h4>Perché Scegliere MandamiUno</h4>
                    <ul>
                        <li><strong>Filtri Avanzati:</strong> Ricerca per città e attività specifiche</li>
                        <li><strong>Recensioni Verificate:</strong> Esperienze reali di altri clienti</li>
                        <li><strong>Disponibilità in Tempo Reale:</strong> Prenotazione istantanea</li>
                        <li><strong>Pagamento Sicuro:</strong> Sistema escrow che protegge tutti</li>
                        <li><strong>Gratuità:</strong> La piattaforma è completamente gratuita per chi cerca assistenza</li>
                    </ul>
                </div>
                
                <div class="edit-section">
                    <button class="edit-btn" onclick="editSection('about')">Modifica Contenuto</button>
                    <div id="about-edit" style="display: none;">
                        <textarea id="about-text">La Nostra Missione
MandamiUno nasce con l'obiettivo di semplificare la ricerca di operatori socio-sanitari qualificati, mettendo in contatto diretto famiglie, strutture e professionisti del settore.

Perché Scegliere MandamiUno
- Filtri Avanzati: Ricerca per città e attività specifiche
- Recensioni Verificate: Esperienze reali di altri clienti
- Disponibilità in Tempo Reale: Prenotazione istantanea
- Pagamento Sicuro: Sistema escrow che protegge tutti
- Gratuità: La piattaforma è completamente gratuita per chi cerca assistenza</textarea>
                        <button class="save-btn" onclick="saveSection('about')">Salva</button>
                        <button class="cancel-btn" onclick="cancelEdit('about')">Annulla</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Profile Modal -->
    <div class="modal" id="profileModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <div id="modalContent">
                <!-- Content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>MandamiUno</h3>
                    <p>La piattaforma per trovare Operatori Socio-Sanitari qualificati nella tua città.</p>
                </div>
                <div class="footer-section">
                    <h3>Link veloci</h3>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#how-it-works">Come Funziona</a></li>
                        <li><a href="#find-oss">Trova OSS</a></li>
                        <li><a href="#about">Chi Siamo</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Supporto</h3>
                    <ul>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Centro assistenza</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contatti</h3>
                    <ul>
                        <li><i class="fas fa-phone"></i> 800 123 456</li>
                        <li><i class="fas fa-envelope"></i> info@MandamiUno.it</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 MandamiUno. Tutti i diritti riservati.</p>
            </div>
        </div>
    </footer>

    <script>
        // Handle search form submission with filters
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('searchForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const city = document.getElementById('city').value;
                const activity = document.getElementById('activity').value;
                
                if (city.trim() === '') {
                    alert('Per favore inserisci il nome di una città');
                    return;
                }
                
                // Simulate search results for different cities and activities
                const resultsList = document.getElementById('resultsList');
                let resultsHTML = '';
                
                // Mock data based on filters
                const ossData = [
                    {
                        id: 1,
                        name: "Maria Rossi",
                        experience: "12 anni",
                        zone: "Centro, Milano",
                        languages: "Italiano, Inglese base",
                        availability: "Lun-Ven 9-19, Sab 9-12",
                        specializations: ["Assistenza anziani", "Alzheimer", "Assistenza domiciliare"],
                        description: "Esperienza decennale nell'assistenza ad anziani con patologie neurodegenerative.",
                        rating: 4.8,
                        activities: ["anziani", "alzheimer", "domiciliare"]
                    },
                    {
                        id: 2,
                        name: "Giuseppe Verdi",
                        experience: "8 anni",
                        zone: "Nord, Milano",
                        languages: "Italiano, Spagnolo",
                        availability: "Turni notturni, Weekend",
                        specializations: ["Assistenza disabili", "Fisioterapia di base", "Assistenza notturna"],
                        description: "Specializzato in assistenza a persone con disabilità motorie.",
                        rating: 4.5,
                        activities: ["disabili", "notturna"]
                    },
                    {
                        id: 3,
                        name: "Laura Bianchi",
                        experience: "6 anni",
                        zone: "Sud, Milano",
                        languages: "Italiano, Inglese, Spagnolo",
                        availability: "Lun-Ven part-time",
                        specializations: ["Assistenza domiciliare", "Assistenza post-operatoria", "Medicazione ferite"],
                        description: "Esperta in assistenza domiciliare e post-operatoria.",
                        rating: 4.9,
                        activities: ["domiciliare", "post-operatoria"]
                    }
                ];
                
                // Filter OSS based on city and activity
                const filteredOSS = ossData.filter(oss => {
                    if (!city.toLowerCase().includes('milano')) return false;
                    if (activity && !oss.activities.includes(activity)) return false;
                    return true;
                });
                
                if (filteredOSS.length === 0) {
                    resultsHTML = `
                        <div class="oss-card">
                            <div class="oss-info">
                                <h3>Nessun OSS trovato</h3>
                                <p>Non sono stati trovati Operatori Socio-Sanitari disponibili con i criteri selezionati.</p>
                                <p>Prova a modificare i filtri di ricerca.</p>
                            </div>
                        </div>
                    `;
                } else {
                    filteredOSS.forEach(oss => {
                        resultsHTML += `
                            <div class="oss-card" data-oss-id="${oss.id}">
                                <div class="oss-rating">
                                    <i class="fas fa-star"></i> ${oss.rating}
                                </div>
                                <div class="oss-info">
                                    <h3>${oss.name}</h3>
                                    <div class="oss-details">
                                        <div class="detail-item">
                                            <span class="detail-label">Esperienza:</span>
                                            <span class="detail-value">${oss.experience}</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Zona:</span>
                                            <span class="detail-value">${oss.zone}</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Lingue:</span>
                                            <span class="detail-value">${oss.languages}</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Disponibilità:</span>
                                            <span class="detail-value">${oss.availability}</span>
                                        </div>
                                    </div>
                                    <div class="oss-specializations">
                                        ${oss.specializations.map(spec => `<span class="specialization-tag">${spec}</span>`).join('')}
                                    </div>
                                    <p>${oss.description}</p>
                                </div>
                                <div class="oss-actions">
                                    <button class="btn btn-primary" onclick="viewProfile(${oss.id})">Vedi Profilo Completo</button>
                                    <button class="btn btn-outline" onclick="checkAvailability(${oss.id})">Verifica Disponibilità</button>
                                </div>
                            </div>
                        `;
                    });
                }
                
                resultsList.innerHTML = resultsHTML;
                
                // Scroll to results section
                document.getElementById('find-oss').scrollIntoView({ behavior: 'smooth' });
            });
        });
        
        // View OSS profile with tabs
        function viewProfile(ossId) {
            const profiles = {
                1: {
                    name: "Maria Rossi",
                    experience: "12 anni",
                    zone: "Centro, Milano",
                    languages: "Italiano, Inglese base",
                    specializations: ["Assistenza anziani", "Alzheimer e demenze", "Assistenza domiciliare", "Gestione Parkinson"],
                    description: "Esperienza decennale nell'assistenza ad anziani con patologie neurodegenerative. Specializzata nella gestione di pazienti con Alzheimer e Parkinson. Ho lavorato sia in strutture residenziali che in assistenza domiciliare.",
                    education: "Diploma OSS, Corso specialistico Alzheimer, Primo soccorso BLS",
                    hourlyRate: "€18-22/ora",
                    contact: "Contattare tramite piattaforma",
                    rating: 4.8,
                    totalReviews: 24
                },
                2: {
                    name: "Giuseppe Verdi",
                    experience: "8 anni",
                    zone: "Nord, Milano",
                    languages: "Italiano, Spagnolo",
                    specializations: ["Assistenza disabili", "Fisioterapia di base", "Assistenza notturna", "Mobilizzazione"],
                    description: "Specializzato in assistenza a persone con disabilità motorie. Competenze in fisioterapia di base e mobilitazione. Disponibile per turni notturni e assistenza continuativa.",
                    education: "Diploma OSS, Corso di fisioterapia di base, Assistenza notturna specialistica",
                    hourlyRate: "€20-25/ora",
                    contact: "Contattare tramite piattaforma",
                    rating: 4.5,
                    totalReviews: 18
                },
                3: {
                    name: "Laura Bianchi",
                    experience: "6 anni",
                    zone: "Sud, Milano",
                    languages: "Italiano, Inglese fluente, Spagnolo",
                    specializations: ["Assistenza domiciliare", "Assistenza post-operatoria", "Medicazione ferite", "Igiene personale"],
                    description: "Esperta in assistenza domiciliare e post-operatoria. Competenze nella medicazione di ferite e nell'igiene personale di pazienti non autosufficienti. Parlo fluentemente inglese e spagnolo.",
                    education: "Diploma OSS, Corso di medicazione avanzata, Assistenza post-operatoria",
                    hourlyRate: "€16-20/ora",
                    contact: "Contattare tramite piattaforma",
                    rating: 4.9,
                    totalReviews: 32
                }
            };
            
            const profile = profiles[ossId] || profiles[1];
            
            // Generate reviews HTML
            const reviewsHTML = generateReviewsHTML(ossId);
            
            // Generate availability table
            const availabilityTable = generateAvailabilityTable(ossId);
            
            // Build modal content with tabs
            const modalContent = `
                <h2 style="color: var(--primary); margin-bottom: 20px;">${profile.name}</h2>
                
                <div class="tabs" id="profileTabs">
                    <div class="tab active" onclick="switchTab('info', this)">Informazioni</div>
                    <div class="tab" onclick="switchTab('reviews', this)">Recensioni (${profile.totalReviews})</div>
                    <div class="tab" onclick="switchTab('availability', this)">Disponibilità</div>
                    <div class="tab" onclick="switchTab('payment', this)">Prenota & Paga</div>
                </div>
                
                <!-- Info Tab -->
                <div id="infoTab" class="tab-content active">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 25px;">
                        <div>
                            <strong>Esperienza:</strong> ${profile.experience}
                        </div>
                        <div>
                            <strong>Zona:</strong> ${profile.zone}
                        </div>
                        <div>
                            <strong>Lingue:</strong> ${profile.languages}
                        </div>
                        <div>
                            <strong>Tariffa oraria:</strong> ${profile.hourlyRate}
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: var(--primary); margin-bottom: 10px;">Specializzazioni</h3>
                        <div class="oss-specializations">
                            ${profile.specializations.map(spec => `<span class="specialization-tag">${spec}</span>`).join('')}
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: var(--primary); margin-bottom: 10px;">Descrizione</h3>
                        <p>${profile.description}</p>
                    </div>
                    
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: var(--primary); margin-bottom: 10px;">Formazione e Certificazioni</h3>
                        <p>${profile.education}</p>
                    </div>
                    
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: var(--primary); margin-bottom: 10px;">Esperienze Passate</h3>
                        <p><strong>Casa di Riposo "Serenità" (2018-2023):</strong> Assistenza a 15 pazienti con Alzheimer in struttura residenziale.</p>
                        <p><strong>Assistenza Domiciliare (2015-2018):</strong> Supporto a 8 famiglie per assistenza continuativa a domicilio.</p>
                        <p><strong>Centro Diurno "Anziani Attivi" (2012-2015):</strong> Gestione attività ricreative e supporto quotidiano.</p>
                    </div>
                </div>
                
                <!-- Reviews Tab -->
                <div id="reviewsTab" class="tab-content">
                    <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 25px;">
                        <div style="font-size: 2.5rem; font-weight: bold; color: var(--dark);">
                            ${profile.rating}
                        </div>
                        <div>
                            <div class="stars">
                                ${generateStars(profile.rating)}
                            </div>
                            <div style="color: #666; margin-top: 5px;">
                                Basato su ${profile.totalReviews} recensioni
                            </div>
                        </div>
                    </div>
                    
                    ${reviewsHTML}
                </div>
                
                <!-- Availability Tab -->
                <div id="availabilityTab" class="tab-content">
                    <div class="real-time-check">
                        <div>
                            <h4 style="margin-bottom: 5px;">Verifica disponibilità in tempo reale</h4>
                            <p style="font-size: 0.9rem;">Seleziona uno slot per prenotare immediatamente</p>
                        </div>
                        <button class="check-availability-btn" onclick="refreshAvailability(${ossId})">
                            <i class="fas fa-sync-alt"></i> Aggiorna
                        </button>
                    </div>
                    
                    <div class="availability-section">
                        <h3>Disponibilità Settimanale</h3>
                        ${availabilityTable}
                    </div>
                    
                    <div id="selectedSlotInfo" style="display: none; margin-top: 20px; padding: 15px; background-color: var(--light); border-radius: 8px;">
                        <h4 style="color: var(--primary); margin-bottom: 10px;">Slot selezionato:</h4>
                        <p id="selectedSlotText"></p>
                        <button class="btn btn-primary" style="margin-top: 10px;" onclick="proceedToPayment(${ossId})">
                            Procedi con il Pagamento
                        </button>
                    </div>
                </div>
                
                <!-- Payment Tab -->
                <div id="paymentTab" class="tab-content">
                    <div class="payment-section">
                        <h3>Prenotazione e Pagamento Sicuro</h3>
                        
                        <div id="bookingSummary" style="display: none; margin-bottom: 20px; padding: 15px; background-color: white; border-radius: 8px;">
                            <h4 style="color: var(--primary); margin-bottom: 10px;">Riepilogo Prenotazione</h4>
                            <p id="bookingDetails"></p>
                            <p><strong>Totale stimato:</strong> <span id="bookingTotal">€45-€55</span> (2.5 ore)</p>
                        </div>
                        
                        <div class="escrow-info">
                            <i class="fas fa-shield-alt"></i>
                            <div>
                                <h4 style="margin-bottom: 5px;">Pagamento protetto da Escrow</h4>
                                <p style="font-size: 0.9rem;">Il pagamento viene trattenuto da MandamiUno e rilasciato all'OSS solo dopo la conferma del servizio completato. Garantisce sicurezza per entrambe le parti.</p>
                            </div>
                        </div>
                        
                        <h4 style="margin-top: 25px; margin-bottom: 15px;">Scegli Metodo di Pagamento</h4>
                        <div class="payment-methods">
                            <div class="payment-method" onclick="selectPaymentMethod('card', this)">
                                <i class="fas fa-credit-card"></i>
                                <p>Carta di Credito</p>
                            </div>
                            <div class="payment-method" onclick="selectPaymentMethod('paypal', this)">
                                <i class="fab fa-paypal"></i>
                                <p>PayPal</p>
                            </div>
                            <div class="payment-method" onclick="selectPaymentMethod('bank', this)">
                                <i class="fas fa-university"></i>
                                <p>Bonifico</p>
                            </div>
                        </div>
                        
                        <div id="paymentForm" style="display: none; margin-top: 20px; padding: 20px; background-color: white; border-radius: 8px;">
                            <h4 style="color: var(--primary); margin-bottom: 15px;">Dati di Pagamento</h4>
                            <div style="display: grid; gap: 15px;">
                                <input type="text" placeholder="Nome sulla carta" style="padding: 12px; border: 1px solid #ddd; border-radius: 5px;">
                                <input type="text" placeholder="Numero carta" style="padding: 12px; border: 1px solid #ddd; border-radius: 5px;">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                    <input type="text" placeholder="MM/AA" style="padding: 12px; border: 1px solid #ddd; border-radius: 5px;">
                                    <input type="text" placeholder="CVV" style="padding: 12px; border: 1px solid #ddd; border-radius: 5px;">
                                </div>
                            </div>
                            <button class="btn btn-success" style="margin-top: 20px; width: 100%;" onclick="processPayment(${ossId})">
                                <i class="fas fa-lock"></i> Paga in Sicurezza
                            </button>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid var(--light);">
                    <button class="btn btn-primary" onclick="contactOSS(${ossId})">Contatta ${profile.name.split(' ')[0]}</button>
                </div>
            `;
            
            document.getElementById('modalContent').innerHTML = modalContent;
            document.getElementById('profileModal').style.display = 'flex';
            
            // Initialize slot selection
            initializeSlotSelection();
        }
        
        // Generate reviews
        function generateReviewsHTML(ossId) {
            const reviews = {
                1: [
                    {author: "Giovanni M.", date: "15/10/2023", rating: 5, text: "Maria è stata fantastica con mio padre affetto da Alzheimer. Professionale, paziente e molto competente. La consiglio vivamente!"},
                    {author: "Anna R.", date: "02/10/2023", rating: 4, text: "Servizio eccellente. Mio marito si è trovato molto bene. Unica pecca: a volte un po' di ritardo."},
                    {author: "Luigi S.", date: "20/09/2023", rating: 5, text: "Professionalità e umanità rara. Segue mia madre da 6 mesi e vediamo miglioramenti significativi."}
                ],
                2: [
                    {author: "Marco B.", date: "12/10/2023", rating: 5, text: "Giuseppe è molto competente nella mobilizzazione. Mio figlio disabile si trova benissimo con lui."},
                    {author: "Sofia L.", date: "05/10/2023", rating: 4, text: "Disponibile anche nei weekend e di notte. Ci ha salvato in diverse emergenze."},
                    {author: "Paolo D.", date: "28/09/2023", rating: 4, text: "Buon operatore, sa fare bene il suo lavoro. A volte un po' frettoloso ma efficace."}
                ],
                3: [
                    {author: "Elena T.", date: "18/10/2023", rating: 5, text: "Laura è un angelo! Ha assistito mia madre dopo l'intervento con una dedizione incredibile."},
                    {author: "Roberto F.", date: "10/10/2023", rating: 5, text: "Competente nelle medicazioni e molto gentile. Parla perfetto inglese, ottimo per mia suocera straniera."},
                    {author: "Francesca M.", date: "01/10/2023", rating: 5, text: "La migliore OSS che abbiamo avuto. Precisa, puntuale e con un sorriso sempre pronto."}
                ]
            };
            
            const ossReviews = reviews[ossId] || reviews[1];
            
            let reviewsHTML = '';
            ossReviews.forEach(review => {
                reviewsHTML += `
                    <div class="review-item">
                        <div class="review-header">
                            <div class="review-author">${review.author}</div>
                            <div class="review-date">${review.date}</div>
                        </div>
                        <div class="review-rating">
                            ${generateStars(review.rating)}
                        </div>
                        <div class="review-text">${review.text}</div>
                    </div>
                `;
            });
            
            return reviewsHTML;
        }
        
        // Generate stars
        function generateStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= Math.floor(rating)) {
                    stars += '<i class="fas fa-star"></i>';
                } else if (i === Math.ceil(rating) && rating % 1 !== 0) {
                    stars += '<i class="fas fa-star-half-alt"></i>';
                } else {
                    stars += '<i class="far fa-star"></i>';
                }
            }
            return stars;
        }
        
        // Generate availability table with clickable slots
        function generateAvailabilityTable(ossId) {
            // Mock availability data
            const availabilityData = {
                1: {
                    "Lunedì": ["09:00-11:30", "15:00-18:00"],
                    "Martedì": ["09:00-12:00", "15:00-19:00"],
                    "Mercoledì": ["09:00-13:00"],
                    "Giovedì": ["09:00-11:00", "15:00-19:00"],
                    "Venerdì": ["09:00-13:00", "15:00-18:30"],
                    "Sabato": ["09:00-12:00"],
                    "Domenica": []
                },
                2: {
                    "Lunedì": ["14:00-22:00"],
                    "Martedì": ["14:00-22:00"],
                    "Mercoledì": ["22:00-06:00"],
                    "Giovedì": ["22:00-06:00"],
                    "Venerdì": ["14:00-22:00"],
                    "Sabato": ["22:00-06:00"],
                    "Domenica": ["22:00-06:00"]
                },
                3: {
                    "Lunedì": ["08:00-12:00", "14:00-18:00"],
                    "Martedì": ["08:00-12:00"],
                    "Mercoledì": ["08:00-12:00", "14:00-18:00"],
                    "Giovedì": ["08:00-12:00", "14:00-18:00"],
                    "Venerdì": ["08:00-12:00"],
                    "Sabato": ["08:00-12:00"],
                    "Domenica": []
                }
            };
            
            const days = ["Lunedì", "Martedì", "Mercoledì", "Giovedì", "Venerdì", "Sabato", "Domenica"];
            const availability = availabilityData[ossId] || availabilityData[1];
            
            let tableHTML = `
                <table class="availability-table">
                    <thead>
                        <tr>
                            ${days.map(day => `<th>${day}</th>`).join('')}
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
            `;
            
            days.forEach(day => {
                const slots = availability[day];
                if (slots && slots.length > 0) {
                    tableHTML += `
                        <td class="available">
                            ${slots.map(slot => `<span class="time-slot" data-day="${day}" data-slot="${slot}" onclick="selectTimeSlot('${day}', '${slot}', ${ossId})">${slot}</span>`).join('<br>')}
                        </td>
                    `;
                } else {
                    tableHTML += `<td class="not-available">Non disponibile</td>`;
                }
            });
            
            tableHTML += `
                        </tr>
                    </tbody>
                </table>
            `;
            
            return tableHTML;
        }
        
        // Initialize slot selection
        function initializeSlotSelection() {
            const slots = document.querySelectorAll('.time-slot');
            slots.forEach(slot => {
                slot.addEventListener('click', function() {
                    // Remove selection from all slots
                    slots.forEach(s => s.classList.remove('selected-slot'));
                    // Add selection to clicked slot
                    this.classList.add('selected-slot');
                });
            });
        }
        
        // Select time slot
        function selectTimeSlot(day, slot, ossId) {
            const selectedSlotInfo = document.getElementById('selectedSlotInfo');
            const selectedSlotText = document.getElementById('selectedSlotText');
            
            selectedSlotText.textContent = `${day} ${slot}`;
            selectedSlotInfo.style.display = 'block';
            
            // Switch to payment tab
            setTimeout(() => {
                switchTab('payment');
                updateBookingSummary(day, slot, ossId);
            }, 500);
        }
        
        // Update booking summary
        function updateBookingSummary(day, slot, ossId) {
            const bookingSummary = document.getElementById('bookingSummary');
            const bookingDetails = document.getElementById('bookingDetails');
            const bookingTotal = document.getElementById('bookingTotal');
            
            const profiles = {
                1: { name: "Maria Rossi", hourlyRate: "€18-22/ora" },
                2: { name: "Giuseppe Verdi", hourlyRate: "€20-25/ora" },
                3: { name: "Laura Bianchi", hourlyRate: "€16-20/ora" }
            };
            
            const profile = profiles[ossId] || profiles[1];
            const [start, end] = slot.split('-');
            const hours = calculateHours(start, end);
            const rateRange = profile.hourlyRate.match(/\d+/g);
            const minRate = parseInt(rateRange[0]);
            const maxRate = parseInt(rateRange[1]);
            const minTotal = hours * minRate;
            const maxTotal = hours * maxRate;
            
            bookingDetails.innerHTML = `
                <strong>OSS:</strong> ${profile.name}<br>
                <strong>Giorno:</strong> ${day}<br>
                <strong>Orario:</strong> ${slot} (${hours} ore)<br>
                <strong>Tariffa:</strong> ${profile.hourlyRate}
            `;
            
            bookingTotal.textContent = `€${minTotal}-€${maxTotal}`;
            bookingSummary.style.display = 'block';
        }
        
        // Calculate hours from time slot
        function calculateHours(start, end) {
            const [startHour, startMin] = start.split(':').map(Number);
            const [endHour, endMin] = end.split(':').map(Number);
            
            let hours = endHour - startHour;
            let minutes = endMin - startMin;
            
            if (minutes < 0) {
                hours--;
                minutes += 60;
            }
            
            return hours + (minutes / 60);
        }
        
        // Switch tabs
        function switchTab(tabName, element = null) {
            // Update tab navigation
            if (element) {
                document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
                element.classList.add('active');
            } else {
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.classList.remove('active');
                    if (tab.textContent.includes(tabName.charAt(0).toUpperCase() + tabName.slice(1))) {
                        tab.classList.add('active');
                    }
                });
            }
            
            // Show selected tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName + 'Tab').classList.add('active');
        }
        
        // Select payment method
        let selectedPaymentMethod = null;
        
        function selectPaymentMethod(method, element) {
            document.querySelectorAll('.payment-method').forEach(el => {
                el.classList.remove('selected');
            });
            element.classList.add('selected');
            selectedPaymentMethod = method;
            
            // Show payment form
            document.getElementById('paymentForm').style.display = 'block';
        }
        
        // Process payment
        function processPayment(ossId) {
            if (!selectedPaymentMethod) {
                alert('Seleziona un metodo di pagamento');
                return;
            }
            
            const profiles = {
                1: { name: "Maria Rossi" },
                2: { name: "Giuseppe Verdi" },
                3: { name: "Laura Bianchi" }
            };
            
            const profile = profiles[ossId] || profiles[1];
            
            // Simulate payment processing
            alert(`Pagamento in elaborazione tramite ${selectedPaymentMethod === 'card' ? 'Carta di Credito' : selectedPaymentMethod === 'paypal' ? 'PayPal' : 'Bonifico'}...\n\nIl pagamento è protetto dal nostro sistema escrow. I fondi verranno trattenuti fino alla conferma del servizio completato.\n\nPrenotazione confermata con ${profile.name}!`);
            
            closeModal();
        }
        
        // Proceed to payment
        function proceedToPayment(ossId) {
            switchTab('payment');
        }
        
        // Refresh availability
        function refreshAvailability(ossId) {
            alert('Disponibilità aggiornata in tempo reale!');
            // In a real app, this would fetch fresh data from the server
        }
        
        // Check availability
        function checkAvailability(ossId) {
            viewProfile(ossId);
            // Switch to availability tab
            setTimeout(() => {
                switchTab('availability');
            }, 100);
        }
        
        // Contact OSS
        function contactOSS(ossId) {
            const profiles = {
                1: { name: "Maria Rossi" },
                2: { name: "Giuseppe Verdi" },
                3: { name: "Laura Bianchi" }
            };
            
            const profile = profiles[ossId] || profiles[1];
            alert(`Contatto per ${profile.name}\n\nIn un'applicazione reale, qui si aprirebbe:\n- Modulo di contatto diretto\n- Chat in tempo reale\n- Chiamata VoIP\n- Sistema di messaggistica interno`);
        }
        
        // Close modal
        function closeModal() {
            document.getElementById('profileModal').style.display = 'none';
            selectedPaymentMethod = null;
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('profileModal');
            if (event.target === modal) {
                modal.style.display = 'none';
                selectedPaymentMethod = null;
            }
        }
        
        // Edit section functions
        function editSection(sectionId) {
            document.getElementById(`${sectionId}-content`).style.display = 'none';
            document.getElementById(`${sectionId}-edit`).style.display = 'block';
            
            // Load current content into textarea
            const contentElement = document.getElementById(`${sectionId}-content`);
            const textArea = document.getElementById(`${sectionId}-text`);
            
            // Extract text from HTML (simplified)
            const text = contentElement.innerText || contentElement.textContent;
            textArea.value = text;
        }
        
        function saveSection(sectionId) {
            const textArea = document.getElementById(`${sectionId}-text`);
            const newContent = textArea.value;
            
            // Convert plain text with markdown-like formatting to HTML
            const htmlContent = convertTextToHtml(newContent);
            
            // Update content
            document.getElementById(`${sectionId}-content`).innerHTML = htmlContent;
            
            // Hide edit form, show content
            document.getElementById(`${sectionId}-content`).style.display = 'block';
            document.getElementById(`${sectionId}-edit`).style.display = 'none';
            
            alert('Contenuto aggiornato con successo!');
        }
        
        function cancelEdit(sectionId) {
            document.getElementById(`${sectionId}-content`).style.display = 'block';
            document.getElementById(`${sectionId}-edit`).style.display = 'none';
        }
        
        // Convert plain text with basic formatting to HTML
        function convertTextToHtml(text) {
            let html = text;
            
            // Convert headings (lines ending with :)
            html = html.replace(/^(.+):\s*$/gm, '<h4 style="margin-top: 15px; color: var(--dark);">$1</h4>');
            
            // Convert bullet points
            html = html.replace(/^- (.+)$/gm, '<li>$1</li>');
            
            // Wrap bullet points in ul
            const lines = html.split('\n');
            let inList = false;
            let result = [];
            
            for (let line of lines) {
                if (line.startsWith('<li>')) {
                    if (!inList) {
                        result.push('<ul>');
                        inList = true;
                    }
                    result.push(line);
                } else {
                    if (inList) {
                        result.push('</ul>');
                        inList = false;
                    }
                    result.push(line);
                }
            }
            
            if (inList) {
                result.push('</ul>');
            }
            
            html = result.join('\n');
            
            // Convert paragraphs (group consecutive non-empty lines)
            const paragraphs = html.split('\n\n');
            html = paragraphs.map(p => {
                if (p.trim() === '' || p.startsWith('<h4') || p.startsWith('<ul') || p.startsWith('</ul') || p.startsWith('<li>')) {
                    return p;
                }
                return `<p>${p}</p>`;
            }).join('\n');
            
            return html;
        }
    </script>
</body>
</html>